<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>SRS - Prototipo QR (vista)</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/5.1.0/github-markdown.min.css">
  <style>
    body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial; background: #f6f8fa; padding: 24px; }
    .container { max-width: 900px; margin: 0 auto; background: white; padding: 40px; box-shadow: 0 2px 8px rgba(0,0,0,0.06); }
    .markdown-body { box-sizing: border-box; }
    .toolbar { text-align: right; margin-bottom: 12px; }
    .btn { display: inline-block; padding: 8px 12px; background: #2d6cdf; color: white; border-radius: 4px; text-decoration: none; }
    @media print {
      body { background: white; padding: 0; }
      .container { box-shadow: none; padding: 12mm; margin: 0; }
      .toolbar { display: none; }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="toolbar">
      <a class="btn" id="printBtn" href="#">Imprimir / Guardar como PDF</a>
    </div>
    <article id="content" class="markdown-body"></article>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
  <script>
    // Cargar el Markdown desde el mismo directorio (sirve si abres v√≠a http://localhost/...)
    fetch('SRS_Prototipo_QR.md')
      .then(function(response) {
        if (!response.ok) throw new Error('No se pudo cargar el archivo Markdown: ' + response.status);
        return response.text();
      })
      .then(function(md) {
        // Renderizar Markdown a HTML
        document.getElementById('content').innerHTML = marked.parse(md);
      })
      .catch(function(err) {
        document.getElementById('content').innerHTML = '<h2>Error</h2><p>' + err.message + '</p><p>Si abres el archivo con file:// el navegador puede bloquear la lectura; abre el archivo usando tu servidor local (por ejemplo: http://localhost/Prototipo%20QR/docs/SRS_Prototipo_QR_viewer.html).</p>';
      });

    document.getElementById('printBtn').addEventListener('click', function(e) {
      e.preventDefault();
      window.print();
    });
  </script>
</body>
</html>